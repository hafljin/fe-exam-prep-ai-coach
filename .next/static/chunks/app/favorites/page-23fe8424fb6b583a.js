(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[57],{5008:function(e,t,s){Promise.resolve().then(s.bind(s,6629))},6629:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});var n=s(7437),r=s(2265),l=s(7648),i=s(7795);function a(){let[e,t]=(0,r.useState)(null),[s,a]=(0,r.useState)([]),[o,c]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{t((0,i.xC)()||(0,i.J7)()),async function(){try{let e=await fetch("/api/problems"),t=await e.json();a(t)}catch(e){console.error("Failed to load problems:",e)}finally{c(!1)}}()},[]),o||!e)return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsx)("div",{className:"text-gray-600",children:"読み込み中..."})});let u=s.filter(t=>e.favorites.includes(t.id));return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,n.jsxs)("div",{className:"max-w-md mx-auto px-4 py-8",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)(l.default,{href:"/",className:"text-blue-500 hover:text-blue-600 text-sm",children:"← トップに戻る"}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mt-4",children:"お気に入り"})]}),0===u.length?(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[(0,n.jsx)("p",{className:"text-gray-600",children:"お気に入りがありません"}),(0,n.jsx)(l.default,{href:"/problems",className:"mt-4 inline-block text-blue-500 hover:text-blue-600",children:"問題を解く →"})]}):(0,n.jsx)("div",{className:"space-y-3",children:u.map(t=>(0,n.jsx)(l.default,{href:"/problems/".concat(t.id),className:"block p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold text-gray-900",children:t.title||t.id}),e.problems[t.id]&&(0,n.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["解いた回数:"," ",e.problems[t.id].attemptCount,"回"]})]}),(0,n.jsx)("span",{className:"text-yellow-500 text-xl",children:"★"})]})},t.id))})]})})}},7795:function(e,t,s){"use strict";s.d(t,{BN:function(){return f},Dq:function(){return d},J7:function(){return a},h8:function(){return o},mN:function(){return u},rj:function(){return c},xC:function(){return l}});let n="yosuga-progress",r="1.0.0";function l(){try{let e=localStorage.getItem(n);if(!e)return null;let t=JSON.parse(e);return t.version,t}catch(e){return console.error("Failed to load progress:",e),null}}function i(e){try{e.version=r,localStorage.setItem(n,JSON.stringify(e))}catch(e){console.error("Failed to save progress:",e)}}function a(){return{version:r,problems:{},studyDays:[],favorites:[]}}function o(){localStorage.removeItem(n)}function c(e,t){let s=l()||a();s.problems[e]||(s.problems[e]={problemId:e,attemptCount:0,lastAttemptedAt:new Date().toISOString(),history:[]});let n=s.problems[e];n.attemptCount+=1,n.lastAttemptedAt=new Date().toISOString(),n.history.push(t),n.history.length>100&&(n.history=n.history.slice(-100)),i(s),function(e){let t=l()||a();t.studyDays.includes(e)||(t.studyDays.push(e),i(t))}(new Date().toISOString().split("T")[0])}function u(e){let t=l()||a(),s=t.favorites.indexOf(e);-1===s?t.favorites.push(e):t.favorites.splice(s,1),i(t)}function d(e){let t=l();return!!t&&t.favorites.includes(e)}function f(e){let t=l();return t&&t.problems[e]||null}},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return r.a}});var n=s(2972),r=s.n(n)}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=5008)}),_N_E=e.O()}]);