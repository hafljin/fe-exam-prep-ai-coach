(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92],{8992:function(e,t,s){Promise.resolve().then(s.bind(s,6366))},6366:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var n=s(7437),l=s(2265),r=s(7648),a=s(7795);function i(){let[e,t]=(0,l.useState)(null);if((0,l.useEffect)(()=>{t((0,a.xC)()||(0,a.J7)())},[]),!e)return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsx)("div",{className:"text-gray-600",children:"読み込み中..."})});let s=Object.values(e.problems).reduce((e,t)=>e+t.attemptCount,0),i=Object.keys(e.problems).length,c=e.studyDays.length,o=Object.values(e.problems).flatMap(e=>e.history.map(t=>({problemId:e.problemId,timestamp:t.timestamp}))).sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()).slice(0,5);return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,n.jsxs)("div",{className:"max-w-md mx-auto px-4 py-8",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)(r.default,{href:"/",className:"text-blue-500 hover:text-blue-600 text-sm",children:"← トップに戻る"}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mt-4",children:"進捗"})]}),(0,n.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"統計"}),(0,n.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600",children:"解いた問題数"}),(0,n.jsxs)("span",{className:"font-semibold",children:[i,"問"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600",children:"総回答回数"}),(0,n.jsxs)("span",{className:"font-semibold",children:[s,"回"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-gray-600",children:"学習日数"}),(0,n.jsxs)("span",{className:"font-semibold",children:[c,"日"]})]})]})]}),o.length>0&&(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"最近の履歴"}),(0,n.jsx)("div",{className:"space-y-2",children:o.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,n.jsx)("span",{className:"text-sm text-gray-700",children:e.problemId}),(0,n.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleDateString("ja-JP")})]},t))})]}),Object.keys(e.problems).length>0&&(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"問題別進捗"}),(0,n.jsx)("div",{className:"space-y-2",children:Object.values(e.problems).sort((e,t)=>new Date(t.lastAttemptedAt).getTime()-new Date(e.lastAttemptedAt).getTime()).slice(0,10).map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.problemId}),(0,n.jsxs)("p",{className:"text-xs text-gray-500",children:["解いた回数: ",e.attemptCount,"回"]})]}),(0,n.jsx)(r.default,{href:"/problems/".concat(e.problemId),className:"text-blue-500 text-sm",children:"開く →"})]},e.problemId))})]})]})]})})}},7795:function(e,t,s){"use strict";s.d(t,{BN:function(){return u},Dq:function(){return d},J7:function(){return i},h8:function(){return c},mN:function(){return m},rj:function(){return o},xC:function(){return r}});let n="yosuga-progress",l="1.0.0";function r(){try{let e=localStorage.getItem(n);if(!e)return null;let t=JSON.parse(e);return t.version,t}catch(e){return console.error("Failed to load progress:",e),null}}function a(e){try{e.version=l,localStorage.setItem(n,JSON.stringify(e))}catch(e){console.error("Failed to save progress:",e)}}function i(){return{version:l,problems:{},studyDays:[],favorites:[]}}function c(){localStorage.removeItem(n)}function o(e,t){let s=r()||i();s.problems[e]||(s.problems[e]={problemId:e,attemptCount:0,lastAttemptedAt:new Date().toISOString(),history:[]});let n=s.problems[e];n.attemptCount+=1,n.lastAttemptedAt=new Date().toISOString(),n.history.push(t),n.history.length>100&&(n.history=n.history.slice(-100)),a(s),function(e){let t=r()||i();t.studyDays.includes(e)||(t.studyDays.push(e),a(t))}(new Date().toISOString().split("T")[0])}function m(e){let t=r()||i(),s=t.favorites.indexOf(e);-1===s?t.favorites.push(e):t.favorites.splice(s,1),a(t)}function d(e){let t=r();return!!t&&t.favorites.includes(e)}function u(e){let t=r();return t&&t.problems[e]||null}},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return l.a}});var n=s(2972),l=s.n(n)}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=8992)}),_N_E=e.O()}]);