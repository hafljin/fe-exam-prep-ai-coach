(()=>{var e={};e.id=877,e.ids=[877],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8193:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>x,originalPathname:()=>h,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(7844),s(1506),s(5866);var n=s(3191),l=s(8716),i=s(7922),r=s.n(i),o=s(5231),a={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>o[e]);s.d(t,a);let c=["",{children:["problems",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7844)),"/Users/apple/fe-exam-prep-ai-coach/app/problems/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"/Users/apple/fe-exam-prep-ai-coach/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/apple/fe-exam-prep-ai-coach/app/problems/[id]/page.tsx"],h="/problems/[id]/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/problems/[id]/page",pathname:"/problems/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},637:()=>{},790:(e,t,s)=>{Promise.resolve().then(s.bind(s,1896))},6782:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},1896:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(326),l=s(7577),i=s(434),r=s(5047),o=s(3402);function a({data:e,width:t=400,height:s=250}){let l=e||{type:"trend",line:{price:60,touches:3},priceAction:[{high:70,low:50,open:55,close:65},{high:75,low:60,open:65,close:70},{high:80,low:65,open:70,close:75},{high:75,low:60,open:75,close:65},{high:70,low:55,open:65,close:60},{high:65,low:50,open:60,close:55},{high:60,low:45,open:55,close:50},{high:55,low:40,open:50,close:45}]},i=t-80,r=s-80,o=l.priceAction||[],a=o.flatMap(e=>[e.high,e.low,e.open,e.close]),c=Math.min(...a,l.line?.price||0),d=Math.max(...a,l.line?.price||100)-c||1,h=e=>40+r-(e-c)/d*r,x=i/(o.length||1),m=e=>40+e*x+x/2;return(0,n.jsxs)("div",{className:"w-full bg-white rounded-lg border border-gray-200 p-4",children:[(0,n.jsxs)("svg",{width:t,height:s,className:"w-full h-auto",children:[n.jsx("defs",{children:n.jsx("pattern",{id:"grid",width:x,height:r/4,patternUnits:"userSpaceOnUse",children:n.jsx("path",{d:`M ${x} 0 L 0 0 0 ${r/4}`,fill:"none",stroke:"#e5e7eb",strokeWidth:"0.5"})})}),n.jsx("rect",{width:i,height:r,x:40,y:40,fill:"url(#grid)"}),l.line&&(0,n.jsxs)("g",{children:[n.jsx("line",{x1:40,y1:h(l.line.price),x2:40+i,y2:h(l.line.price),stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:l.line.touches&&l.line.touches>=3?"0":"5,5",opacity:l.line.touches&&l.line.touches>=3?1:.5}),l.line.touches&&l.line.touches>=3&&o.length>0&&n.jsx(n.Fragment,{children:[0,Math.floor(o.length/2),o.length-1].map(e=>n.jsx("circle",{cx:m(e),cy:h(l.line.price),r:"4",fill:"#3b82f6"},e))})]}),o.map((e,t)=>{let s=m(t),l=h(Math.max(e.open,e.close)),i=h(Math.min(e.open,e.close)),r=e.close>e.open;return(0,n.jsxs)("g",{children:[n.jsx("line",{x1:s,y1:h(e.high),x2:s,y2:h(e.low),stroke:r?"#10b981":"#ef4444",strokeWidth:"1"}),n.jsx("rect",{x:s-.3*x,y:l,width:.6*x,height:i-l||1,fill:r?"#10b981":"#ef4444"})]},t)}),o.length>0&&n.jsx("g",{children:n.jsx("circle",{cx:m(o.length-1),cy:h(o[o.length-1].close),r:"5",fill:"#f59e0b",stroke:"white",strokeWidth:"2"})}),[0,.25,.5,.75,1].map(e=>{let t=c+d*(1-e);return n.jsx("text",{x:35,y:40+r*e,textAnchor:"end",fontSize:"10",fill:"#6b7280",children:t.toFixed(0)},e)})]}),(0,n.jsxs)("div",{className:"mt-2 text-xs text-gray-500 text-center",children:["trend"===l.type&&"上昇トレンド","range"===l.type&&"レンジ相場","transition"===l.type&&"転換期",l.line&&l.line.touches&&l.line.touches>=3&&" | ライン有効"]})]})}function c({params:e}){let t=(0,r.useRouter)(),[s,c]=(0,l.useState)(null),[d,h]=(0,l.useState)(!0),[x,m]=(0,l.useState)("line"),[u,p]=(0,l.useState)({}),[g,b]=(0,l.useState)(!1),[f,j]=(0,l.useState)(""),v=(e,t)=>{let s={...u,[e]:t};p(s);let n=["line","nowcast","scenario","timing","conclusion"],l=n.indexOf(x);if(l<n.length-1)m(n[l+1]);else{m("explanation");let e={timestamp:new Date().toISOString(),answers:{line:s.line||t,nowcast:s.nowcast||t,scenario:s.scenario||t,timing:s.timing||t,conclusion:s.conclusion||t}};f&&(0,o.rj)(f,e)}};if(d)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"text-gray-600",children:"読み込み中..."})});if(!s)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"text-gray-600",children:"問題が見つかりません"})});let w=f?(0,o.BN)(f):null,y=w?.attemptCount||0;return n.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,n.jsxs)("div",{className:"max-w-md mx-auto px-4 py-8",children:[(0,n.jsxs)("div",{className:"mb-6",children:[n.jsx(i.default,{href:"/problems",className:"text-blue-500 hover:text-blue-600 text-sm",children:"← 問題一覧に戻る"}),(0,n.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s.title||s.id}),n.jsx("button",{onClick:()=>{f&&((0,o.mN)(f),b(!g))},className:`text-2xl ${g?"text-yellow-500":"text-gray-300"}`,children:"★"})]}),w&&(0,n.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["解いた回数: ",y,"回"]})]}),n.jsx("div",{className:"mb-6",children:s.chartImage?n.jsx("img",{src:s.chartImage,alt:"チャート",className:"w-full rounded-lg shadow-md"}):n.jsx(a,{data:s.chartData})}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:["line"===x&&(0,n.jsxs)("div",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:s.flow.line.question}),(0,n.jsxs)("div",{className:"space-y-3",children:[n.jsx("button",{onClick:()=>v("line","yes"),className:"w-full p-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Yes"}),n.jsx("button",{onClick:()=>v("line","no"),className:"w-full p-4 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"No"})]})]}),"nowcast"===x&&(0,n.jsxs)("div",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:s.flow.nowcast.question}),n.jsx("div",{className:"space-y-3",children:s.flow.nowcast.options.map(e=>n.jsx("button",{onClick:()=>v("nowcast",e),className:"w-full p-4 bg-gray-200 text-gray-900 rounded-lg hover:bg-gray-300 transition-colors",children:e},e))})]}),"scenario"===x&&(0,n.jsxs)("div",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:s.flow.scenario.question}),(0,n.jsxs)("div",{className:"space-y-3",children:[n.jsx("button",{onClick:()=>v("scenario","yes"),className:"w-full p-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Yes"}),n.jsx("button",{onClick:()=>v("scenario","no"),className:"w-full p-4 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"No"})]})]}),"timing"===x&&(0,n.jsxs)("div",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:s.flow.timing.question}),(0,n.jsxs)("div",{className:"space-y-3",children:[n.jsx("button",{onClick:()=>v("timing","yes"),className:"w-full p-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Yes"}),n.jsx("button",{onClick:()=>v("timing","no"),className:"w-full p-4 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"No"})]})]}),"conclusion"===x&&(0,n.jsxs)("div",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:s.flow.conclusion.question}),(0,n.jsxs)("div",{className:"space-y-3",children:[n.jsx("button",{onClick:()=>v("conclusion","entry"),className:"w-full p-4 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Entry"}),n.jsx("button",{onClick:()=>v("conclusion","skip"),className:"w-full p-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Skip"})]})]}),"explanation"===x&&(0,n.jsxs)("div",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"解説"}),(0,n.jsxs)("div",{className:"space-y-4 text-sm",children:[s.explanation.line&&(0,n.jsxs)("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:"ライン判断"}),n.jsx("p",{className:"text-gray-700",children:s.explanation.line})]}),s.explanation.nowcast&&(0,n.jsxs)("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:"ナウキャスト判断"}),n.jsx("p",{className:"text-gray-700",children:s.explanation.nowcast})]}),s.explanation.scenario&&(0,n.jsxs)("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:"シナリオ判断"}),n.jsx("p",{className:"text-gray-700",children:s.explanation.scenario})]}),s.explanation.timing&&(0,n.jsxs)("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:"タイミング判断"}),n.jsx("p",{className:"text-gray-700",children:s.explanation.timing})]}),s.explanation.conclusion&&(0,n.jsxs)("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:"結論"}),n.jsx("p",{className:"text-gray-700",children:s.explanation.conclusion})]}),s.explanation.overall&&(0,n.jsxs)("div",{className:"pt-4 border-t",children:[n.jsx("h3",{className:"font-semibold mb-1",children:"全体の解説"}),n.jsx("p",{className:"text-gray-700",children:s.explanation.overall})]})]}),n.jsx("button",{onClick:()=>{t.push("/problems")},className:"w-full mt-6 p-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"次の問題へ"})]})]})]})})}},3402:(e,t,s)=>{"use strict";s.d(t,{BN:()=>o,h8:()=>l,mN:()=>r,rj:()=>i});function n(){return{version:"1.0.0",problems:{},studyDays:[],favorites:[]}}function l(){}function i(e,t){let s=n();s.problems[e]||(s.problems[e]={problemId:e,attemptCount:0,lastAttemptedAt:new Date().toISOString(),history:[]});let l=s.problems[e];l.attemptCount+=1,l.lastAttemptedAt=new Date().toISOString(),l.history.push(t),l.history.length>100&&(l.history=l.history.slice(-100)),function(e){let t=n();t.studyDays.includes(e)||t.studyDays.push(e)}(new Date().toISOString().split("T")[0])}function r(e){let t=n(),s=t.favorites.indexOf(e);-1===s?t.favorites.push(e):t.favorites.splice(s,1)}function o(e){return null}},434:(e,t,s)=>{"use strict";s.d(t,{default:()=>l.a});var n=s(9404),l=s.n(n)},5047:(e,t,s)=>{"use strict";var n=s(7389);s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}})},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>l});var n=s(9510);s(7272);let l={title:"よすが式学習アプリ",description:"よすが式（数画式）をいつでもどこでも学習できるPWA",manifest:"/manifest.json",themeColor:"#3b82f6",viewport:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"};function i({children:e}){return n.jsx("html",{lang:"ja",children:n.jsx("body",{children:e})})}},7844:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});let n=(0,s(8570).createProxy)(String.raw`/Users/apple/fe-exam-prep-ai-coach/app/problems/[id]/page.tsx#default`)},7272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[276,471,404],()=>s(8193));module.exports=n})();